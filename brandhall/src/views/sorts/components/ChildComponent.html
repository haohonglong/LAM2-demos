<#Block:begin id="childComponent">
<div>
	<div v-for="v in list" class="L mr5 mb30 sectionButton-B1 sectionButton-B1-big">
		<li v-if="isArray(v.child)">
			<div class="btn mt5">
		        <span> {{ v.name }}</span>
		        <a @click="edit(v.id, v.pid)" target="_blank">修改</a>
	            <a @click="remove(v.id)">删除</a>
		    </div>
			<ul class="ml10"><child-component v-on:modify="modify" :list="v.child"></child-component></ul>
		</li>
		<li v-else class="mt5">
			<div class="btn">
		        <span> {{ v.name }}</span>
		        <a @click="modify(v.id, v.pid)">修改</a>
	            <a @click="remove(v.id)">删除</a>
		    </div>
		</li>
	</div>
</div>
<#Block:end>


<script type="text/javascript">
	LAM.run(function() {
			'use strict';
			var System = this;

			var ChildComponent = {
				name: 'ChildComponent',
				props: {
					'list': Array
				},
				data: function () {
					return {
					}
				},
				methods: {
					modify(id, pid) {
						this.$emit('modify', id, pid);
					},
					isArray(value) {
							return System.isArray(value);
					}
				},
				template: System.Template.getBlock('childComponent')
			};

			System.export('ChildComponent', ChildComponent);
	});
</script>