<#define __CSRF_TOKEN__="{#LAM.require("this").csrfToken#}" />
<#define __API__="{#LAM.API#}" />
<#define __IMAGE__="{#LAM.IMAGE#}" />
<#define __MYCOMMON__="{#LAM.MYCOMMON#}" />
<#define __PLUGINS__="{#LAM.PLUGINS#}" />
<#define __CLASSPATH__="{#LAM.classPath#}" />
<#define __COMMON__="{#LAM.COMMON#}" />
<#define __CSS__="{#LAM.CSS#}" />
<#define _LAYOUTS_="{#LAM.LAYOUTS#}" />
<#define @COMPONENTS="_LAYOUTS_/components" />
<#define __DATAPATH__="{#LAM.DATA#}" />
#define# __MENU__ <#include repeat="0" tp-data="" file="__DATAPATH__/menu.json" /> #end#

<#import path="/Tab.class,/Tools.class" root="__CLASSPATH__" write="1" befor="1" />
<#import path="/api.js" root="__API__" />

<#import path="/vue/vue.js" root="__PLUGINS__" write="1" befor="1" />

<!--Del:begin-->
<#import path="
/vue-router@2.0.0/dist/vue-router.js
,/vuex@2.0.0/dist/vuex.js
" root="https://unpkg.com" write="1" befor="1" />
<!--Del:end-->

<#import type="css" path="/element-ui/lib/theme-chalk/index.css" root="https://unpkg.com" befor="1" />
<#import path="/elementui/index.js" root="__PLUGINS__" write="1" befor="1" />

<#import path="/layer-v3.1.1/layer/layer.js" root="__PLUGINS__" write="1" befor="1" />
<#import type="css" path="/css/lib/bootstrap" root="__COMMON__" befor="1" />
<#import type="css" path="/global,/lib" root="__CSS__" befor="1" />

<#import type="css" path="/jquery.mCustomScrollbar/jquery.mCustomScrollbar.css" root="__PLUGINS__" befor="1" />
<#import path="/jquery.mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js" root="__PLUGINS__" write="1" befor="1" />

<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="keywords" content="{#-title-#}" />
  <meta name="description" content="{#-title-#}" />
  <meta name="csrf-token" content="__CSRF_TOKEN__">
  <!#HEAD/>
  <!#CSS/>
  <!#JS/>

<#Block:begin override="1:0" id="title" data="{'title':'{#-title-#}'}">
  <title><%=title%></title>
<#Block:end>

<#=block id="title" data="{}" />

</head>

<body>

<div id="app">
    <el-container>
      <el-aside width="200px"><menu-component :list="menu" :title="title"></menu-component></el-aside>
      <el-container>
        <el-header><header-component :name="user.name" :age="user.age"></header-component></el-header>
        <div class="ml20 mb30"><crumb-component :list="crumbData"></crumb-component></div>
        <el-main>
          <content-component ref="content"></content-component>
          <el-backtop></el-backtop>
        </el-main>
      </el-container>
    </el-container>
</div>

<style type="text/css">
  .mCustomScrollbar{height: 1000px;overflow: auto;}
  .mCSB_inside > .mCSB_container{margin:0;}
  .mCSB_scrollTools .mCSB_draggerContainer{left:17px;}
</style>




<#include file="@COMPONENTS/MenuComponent.html" />
<#include file="@COMPONENTS/MobileMenuComponent.html" />
<#include file="@COMPONENTS/HeaderComponent.html" />
<#include file="@COMPONENTS/CrumbComponent.html" />
{#-content-#}
<script type="text/javascript">
    var vm = LAM.run(function(){
        'use strict';
        var System = this;

        var D = System.require("this").content;


        // var DATE={
        //     'b_width':0,
        //     'b_height':0,
        //     '$hidden_bnt':null
        // };

        // var setSize=function(n){
        //     n=n || 0;
        //     var height=$(window).height();
        //     var width=$(window).width();
        //     DATE.b_width=width;
        //     DATE.b_height=height;
        //     $('.sectionSidebar-A1').height(height);
        //     $('.sectionList-A2').height($(window).height()-116);


        // };



        $(function(){

            
            // $(".mCustomScrollbar").mCustomScrollbar();



        //     $('.sectionList-A2 dd').on('click',function(){
        //         $(this).find('.sectionList-A1').toggle();
        //     });

        //     setSize();
        //     $(window).resize(function() {
        //         setSize();
        //     });
        //     $(window).scroll(function() {
        //         setSize($(window).scrollTop());
        //     });
        //     var $sectionWrapA4=$('.sectionWrap-A4');
        //     var $hidden_bnt=$('#hidden_bnt');

        //     $('#hidden_bnt').on('click',function(){
        //         if(!this.flag){
        //             $sectionWrapA4.animate({"left":"47px"});
        //             $hidden_bnt.animate({"left":"20px"});

        //             this.flag = true;
        //         }else{

        //             $sectionWrapA4.animate({"left":"220px"});
        //             $hidden_bnt.animate({"left":"192px"});
        //             this.flag = false;
        //         }


        //     });
        });

        var vm = new Vue({
              data: function(){
                return {
                    menu: __MENU__,
                    title: "喜鹊筑家旗舰店",
                    user: D.user,
                    crumbData: {#-D.list-#}
                };
              },
              components: {
                'menu-component': System.require('MenuComponent'),
                'mobile-menu-component': System.require('MobileMenuComponent'),
                'header-component': System.require('HeaderComponent'),
                'crumb-component': System.require('CrumbComponent'),
                'content-component': System.require('ContentComponent')
              },
              computed: {
              },
              methods: {
              },
              watch: {
              }
            }).$mount("#app");

            return vm;

    });

</script>

</body>
</html>
