<#define __INDEX__="{#LAM.INDEX#}" />
<#define __HOME__="__INDEX__{#LAM.routeRules.index#}" />
<#define __SERVER__="{#LAM.SERVER#}" />
<#define __VIEWS__="{#LAM.VIEWS#}" />
<#define __COMPONENTS__="{#LAM.COMPONENTS#}" />
<#define ~/="__VIEWS__/test/" />



<#import path="/echarts.js,/chart/line.js,/chart/bar.js" root="http://echarts.baidu.com/build/dist" write="1" befor="1" />

<#define _TITLE_="test" />
<#Block:begin id="title" data="{'title':'_TITLE_'}"><#Block:end>

<!--Del:begin-->
<#extends title="_TITLE_" data="{'list':[
{'name':'首页','href':'__HOME__','title':'首页'},
{'name':'店铺管理','href':'__INDEX__test/index','title':''},
{'name':'_TITLE_'}
]}" />
<!--Del:end-->



<#Block:begin id="views.test.index">
<div>
	<div ref="chart" style="height:400px;"></div>
</div>
<#Block:end>



<script type="text/javascript">

    LAM.run([jQuery],function($) {
        'use strict';
        var System = this;

        const Api = System.require("Api");

        var ContentComponent = {
          name: "ContentComponent",
          data: function () {
            return {
              option: {
                title : {
                    text: '同类商品不同超市的价格',
                    subtext: ''
                },
                tooltip : {
                    trigger: 'axis'
                },
                legend: {
                    data:['集合100连锁超市','益家鲜生']
                },
                toolbox: {
                    show : true,
                    feature : {
                        mark : {show: true},
                        dataView : {show: true, readOnly: false},
                        magicType : {show: true, type: ['line', 'bar']},
                        restore : {show: true},
                        saveAsImage : {show: true}
                    }
                },
                calculable : true,
                xAxis : [
                    {
                        type : 'category',
                        boundaryGap : false,
                        data : ['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月']
                    }
                ],
                yAxis : [
                    {
                        type : 'value',
                        axisLabel : {
                            formatter: '{value} ¥'
                        }
                    }
                ],
                series : [
                    {
                        name:'集合100连锁超市',
                        type:'line',
                        data:[5.21, 5.10, 4.69, 5.00, 5.55, 5.00, 5.18],
                        markPoint : {
                            data : [
                                {type : 'max', name: '最大值'},
                                {type : 'min', name: '最小值'}
                            ]
                        },
                        markLine : {
                            data : [
                                {type : 'average', name: '平均值'}
                            ]
                        }
                    },
                    {
                        name:'益家鲜生',
                        type:'line',
                        data:[5.39, 5.28, 4.59, 5.00, 5.68, 5.19, 5.19],
                        markPoint : {
                            data : [
                                {type : 'max', name: '最大值'},
                                {type : 'min', name: '最小值'}
                            ]
                        },
                        markLine : {
                            data : [
                                {type : 'average', name: '平均值'}
                            ]
                        }
                    }
                ]
              }
			      }
          },
          mounted() {
            this.init();
          },
          created(){
            
            
            
          },
          methods: {
            init() {
              require(
                  [
                      'echarts',
                      'echarts/chart/line',   // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表
                      'echarts/chart/bar'
                  ],
                  (ec) =>{
                      var myChart = ec.init(this.$refs.chart);
                      myChart.setOption(this.option);
                  }
              );
            }
		      },
          template: System.Template.getBlock('views.test.index')
        };

        System.export("views.test.index", ContentComponent);
    });
</script>

