<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº”çº¿è°±ç¼–è¾‘å™¨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#00D0FF',
                        secondary: '#6B7280'
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '2px',
                        DEFAULT: '4px',
                        'md': '8px',
                        'lg': '12px',
                        'xl': '16px',
                        '2xl': '20px',
                        '3xl': '24px',
                        'full': '9999px',
                        'button': '4px'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            min-height: 1024px;
            background-color: #F7F9FC;
        }

        .draggable {
            position: relative;
            display: inline-flex;
            flex-direction: column;
            align-items: center;
        }

        .stem-handle {
            opacity: 0;
            transition: opacity 0.2s;
        }

        .draggable:hover .stem-handle {
            opacity: 1;
        }

        .staff-line {
            height: 2px;
            background-color: #2D3748;
            margin: 24px 0;
        }

        .measure {
            border-right: 2px solid #2D3748;
        }

        .note-button {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            cursor: move;
        }

        .note-button:hover {
            background-color: #E2E8F0;
        }

        .staff-container {
            position: relative;
        }

        .draggable {
            position: absolute;
            cursor: move;
            user-select: none;
        }
    </style>
</head>

<body>
    <div class="container mx-auto px-4 py-8 max-w-[1440px]">
        <header class="flex items-center justify-between mb-8">
            <div class="flex items-center">
                <h1 class="text-3xl font-['Pacifico'] text-gray-800">logo</h1>
                <span class="ml-4 text-lg text-gray-600">äº”çº¿è°±ç¼–è¾‘å™¨</span>
            </div>
            <div class="flex items-center space-x-4">
                <button class="px-4 py-2 bg-primary text-white !rounded-button whitespace-nowrap hover:bg-opacity-90">
                    <i class="fas fa-save mr-2"></i>ä¿å­˜
                </button>
                <button class="px-4 py-2 bg-secondary text-white !rounded-button whitespace-nowrap hover:bg-opacity-90">
                    <i class="fas fa-copy mr-2"></i>å¤åˆ¶
                </button>
                <button class="px-4 py-2 bg-secondary text-white !rounded-button whitespace-nowrap hover:bg-opacity-90">
                    <i class="fas fa-share mr-2"></i>åˆ†äº«
                </button>
            </div>
        </header>
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center">
                        <span class="text-gray-600 mr-2">è°ƒå·:</span>
                        <button
                            class="px-3 py-1 border border-gray-300 !rounded-button whitespace-nowrap hover:bg-gray-50">
                            C å¤§è°ƒ
                            <i class="fas fa-chevron-down ml-2"></i>
                        </button>
                    </div>
                    <div class="flex items-center">
                        <span class="text-gray-600 mr-2">æ‹å·:</span>
                        <button
                            class="px-3 py-1 border border-gray-300 !rounded-button whitespace-nowrap hover:bg-gray-50">
                            4/4
                            <i class="fas fa-chevron-down ml-2"></i>
                        </button>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="note-button text-gray-600 hover:text-primary">
                        <i class="fas fa-backward"></i>
                    </button>
                    <button id="playButton" class="note-button text-gray-600 hover:text-primary">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="note-button text-gray-600 hover:text-primary">
                        <i class="fas fa-forward"></i>
                    </button>
                    <div class="flex items-center">
                        <span class="text-gray-600 mr-2">é€Ÿåº¦:</span>
                        <input type="range" class="w-32" min="60" max="200" value="120">
                        <span class="text-gray-600 ml-2">120</span>
                    </div>
                </div>
            </div>
            <div class="staff-container bg-white border border-gray-200 rounded-lg p-8">
                <div class="staff relative">
                    <div class="staff-line"></div>
                    <div class="staff-line"></div>
                    <div class="staff-line"></div>
                    <div class="staff-line"></div>
                    <div class="staff-line"></div>
                    <div class="absolute top-0 left-0 h-full w-full grid grid-cols-4">
                        <div class="measure relative">
                        </div>
                        <div class="measure relative">
                        </div>
                        <div class="measure relative">
                        </div>
                        <div class="measure relative">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-gray-50 rounded-lg p-6">
            <div class="grid grid-cols-8 gap-4">
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">éŸ³ç¬¦</h3>
                    <div class="space-y-2">
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å…¨éŸ³ç¬¦">ğ…</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="äºŒåˆ†éŸ³ç¬¦">ğ…—ğ…¥</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å››åˆ†éŸ³ç¬¦">â™©</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å…«åˆ†éŸ³ç¬¦">â™ª</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="åå…­åˆ†éŸ³ç¬¦">ğ…˜ğ…¥ğ…¯</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="ä¸‰åäºŒåˆ†éŸ³ç¬¦">ğ…˜ğ…¥ğ…°</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å…­åå››åˆ†éŸ³ç¬¦">ğ…˜ğ…¥ğ…±</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="ä¸€äºŒå…«åˆ†éŸ³ç¬¦">ğ…˜ğ…¥ğ…²</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="ä¸‹åŠ çº¿">_</button>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">ä¼‘æ­¢ç¬¦</h3>
                    <div class="space-y-2">
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å…¨ä¼‘æ­¢ç¬¦">ğ„»</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="äºŒåˆ†ä¼‘æ­¢ç¬¦">ğ„¼</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å››åˆ†ä¼‘æ­¢ç¬¦">ğ„½</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å…«åˆ†ä¼‘æ­¢ç¬¦">ğ„¾</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="åå…­åˆ†ä¼‘æ­¢ç¬¦">ğ„¿</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å…äºŒåˆ†ä¼‘æ­¢ç¬¦">ğ…€</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å…­åå››åˆ†ä¼‘æ­¢ç¬¦">ğ…</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å¤šå°èŠ‚ä¼‘æ­¢">ğ„º</button>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">å˜éŸ³è®°å·</h3>
                    <div class="space-y-2">
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å‡å·">â™¯</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="é™å·">â™­</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="è¿˜åŸå·">â™®</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="é‡å‡å·">ğ„ª</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="é‡é™å·">ğ„«</button>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">è¿éŸ³ç¬¦å·</h3>
                    <div class="space-y-2">
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="è¿éŸ³çº¿">âŒ¢</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="ä¸‰è¿éŸ³">3</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å»¶é•¿çº¿">â¯</button>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">å¼ºå¼±è®°å·</h3>
                    <div class="space-y-2">
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å¼ºéŸ³">f</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å¼±éŸ³">p</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="æ¸å¼º">ï¼œ</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="æ¸å¼±">ï¼</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="é‡å¼ºéŸ³">ff</button>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">é€Ÿåº¦è®°å·</h3>
                    <div class="space-y-2">
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å¿«æ¿">Allegro</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="ä¸­æ¿">Moderato</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="æ…¢æ¿">Andante</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="æ¸å¿«">accel.</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="æ¸æ…¢">rit.</button>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">è£…é¥°éŸ³</h3>
                    <div class="space-y-2">
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="é¢¤éŸ³">tr</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="æ³¢éŸ³">~</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å›éŸ³">ğ†³</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å€šéŸ³">â™®</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="ç¶éŸ³">ğ†ƒ</button>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">è°±å·</h3>
                    <div class="space-y-2">
                        <button
                            class="note-button bg-white border border-gray-200 rounded hover:border-primary text-4xl"
                            title="é«˜éŸ³è°±å·">ğ„</button>
                        <button
                            class="note-button bg-white border border-gray-200 rounded hover:border-primary text-4xl"
                            title="ä½éŸ³è°±å·">ğ„¢</button>
                        <button
                            class="note-button bg-white border border-gray-200 rounded hover:border-primary text-4xl"
                            title="ä¸­éŸ³è°±å·">ğ„¡</button>
                        <button
                            class="note-button bg-white border border-gray-200 rounded hover:border-primary text-4xl"
                            title="æ¬¡ä¸­éŸ³è°±å·">ğ„£</button>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-gray-600 mb-4">å…¶ä»–ç¬¦å·</h3>
                    <div class="space-y-2">
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="åå¤è®°å·">ğ„‡</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="ç»ˆæ­¢çº¿">ğ„‚</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å°èŠ‚çº¿">|</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="é‡å¤è®°å·">ğ„Œ</button>
                        <button class="note-button bg-white border border-gray-200 rounded hover:border-primary"
                            title="å…«åº¦è®°å·">8va</button>
                    </div>
                </div>
            </div>
        </div>
        <footer class="mt-8 text-center text-gray-600">
            <p>Â©
                <script>document.write(new Date().getFullYear())</script> äº”çº¿è°±ç¼–è¾‘å™¨ ç‰ˆæƒæ‰€æœ‰
            </p>
        </footer>
    </div>
    <script>
        const playButton = document.getElementById('playButton');
        let isPlaying = false;
        playButton.addEventListener('click', () => {
            isPlaying = !isPlaying;
            playButton.querySelector('i').className = isPlaying ? 'fas fa-pause' : 'fas fa-play';
        });
        // ç”¨äºå­˜å‚¨å½“å‰æ­£åœ¨è°ƒæ•´çš„éŸ³ç¬¦å°¾å·´å…ƒç´ 
        let currentStem = null;
        // ç”¨äºå­˜å‚¨å°¾å·´è°ƒæ•´æ‰‹æŸ„çš„åˆå§‹ä½ç½®
        let initialY = 0;
        function createStemHandle(noteElement) {
            const stemHandle = document.createElement('div');
            stemHandle.className = 'stem-handle';
            stemHandle.style.cssText = `
position: absolute;
width: 10px;
height: 10px;
background: #00D0FF;
border-radius: 50%;
cursor: ns-resize;
bottom: -5px;
left: 50%;
transform: translateX(-50%);
`;
            const resizeHandle = document.createElement('div');
            resizeHandle.className = 'resize-handle';
            resizeHandle.style.cssText = `
position: absolute;
width: 10px;
height: 10px;
background: #00D0FF;
border-radius: 50%;
cursor: se-resize;
bottom: -5px;
right: -5px;
opacity: 0;
transition: opacity 0.2s;
`;
            noteElement.addEventListener('mouseover', () => {
                resizeHandle.style.opacity = '1';
                stemHandle.style.opacity = '1';
            });
            noteElement.addEventListener('mouseout', () => {
                resizeHandle.style.opacity = '0';
                stemHandle.style.opacity = '0';
            });
            stemHandle.addEventListener('mousedown', (e) => {
                e.stopPropagation();
                currentStem = noteElement;
                initialY = e.clientY;
                const onMouseMove = (e) => {
                    if (currentStem) {
                        const deltaY = initialY - e.clientY;
                        const newHeight = Math.max(20, Math.abs(deltaY));
                        currentStem.style.height = newHeight + 'px';
                    }
                };
                const onMouseUp = () => {
                    currentStem = null;
                    document.removeEventListener('mousemove', onMouseMove);
                    document.removeEventListener('mouseup', onMouseUp);
                };
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
            });
            resizeHandle.addEventListener('mousedown', (e) => {
                e.stopPropagation();
                const startX = e.clientX;
                const startY = e.clientY;
                const startWidth = noteElement.offsetWidth;
                const startHeight = noteElement.offsetHeight;
                const onMouseMove = (e) => {
                    const deltaX = e.clientX - startX;
                    const deltaY = e.clientY - startY;
                    const newWidth = Math.max(40, startWidth + deltaX);
                    const newHeight = Math.max(40, startHeight + deltaY);
                    noteElement.style.width = newWidth + 'px';
                    noteElement.style.height = newHeight + 'px';
                    noteElement.style.fontSize = `${newHeight}px`;
                };
                const onMouseUp = () => {
                    document.removeEventListener('mousemove', onMouseMove);
                    document.removeEventListener('mouseup', onMouseUp);
                };
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
            });
            noteElement.appendChild(resizeHandle);
            return stemHandle;
        }
        let selectedStaff = null;
        // ç‚¹å‡»äº”çº¿è°±å®¹å™¨æ—¶è®¾ç½®é€‰ä¸­çŠ¶æ€
        document.addEventListener('click', (e) => {
            const staffContainer = e.target.closest('.staff-container');
            const allStaffs = document.querySelectorAll('.staff-container');
            allStaffs.forEach(staff => {
                staff.style.outline = 'none';
            });
            if (staffContainer) {
                selectedStaff = staffContainer;
                staffContainer.style.outline = '2px solid #00D0FF';
            } else {
                selectedStaff = null;
            }
        });
        // å¤åˆ¶äº”çº¿è°±åŠŸèƒ½
        document.querySelector('button:has(.fa-copy)').addEventListener('click', () => {
            if (!selectedStaff) {
                alert('è¯·å…ˆé€‰æ‹©è¦å¤åˆ¶çš„äº”çº¿è°±');
                return;
            }
            const clone = selectedStaff.cloneNode(true);
            // å¤åˆ¶æ‰€æœ‰éŸ³ç¬¦å’Œç¬¦å·
            const notes = Array.from(selectedStaff.querySelectorAll('.draggable'));
            notes.forEach(note => {
                const noteClone = note.cloneNode(true);
                noteClone.style.left = note.style.left;
                noteClone.style.top = note.style.top;
                makeDraggable(noteClone);
                clone.appendChild(noteClone);
            });
            selectedStaff.parentElement.insertBefore(clone, selectedStaff.nextSibling);
            // å–æ¶ˆåŸæ¥çš„é€‰ä¸­çŠ¶æ€å¹¶é€‰ä¸­æ–°å¤åˆ¶çš„äº”çº¿è°±
            selectedStaff.style.outline = 'none';
            selectedStaff = clone;
            clone.style.outline = '2px solid #00D0FF';
        });
        let draggedElement = null;
        let offsetX = 0;
        let offsetY = 0;
        let placedNotes = [];
        // åˆå§‹åŒ–é«˜éŸ³è°±å·ä¸ºå¯æ‹–åŠ¨å…ƒç´ 
        document.querySelectorAll('.draggable').forEach(element => {
            makeDraggable(element);
        });
        document.querySelectorAll('.note-button').forEach(button => {
            button.addEventListener('mousedown', e => {
                e.preventDefault();
                const symbol = button.innerHTML;
                const clone = document.createElement('div');
                clone.innerHTML = symbol;
                clone.className = 'draggable text-[80px]';
                clone.style.position = 'absolute';
                clone.style.cursor = 'move';
                clone.style.zIndex = '1000';
                document.body.appendChild(clone);
                offsetX = e.clientX - button.getBoundingClientRect().left;
                offsetY = e.clientY - button.getBoundingClientRect().top;
                draggedElement = clone;
                moveAt(e.pageX, e.pageY);
                function onMouseMove(e) {
                    moveAt(e.pageX, e.pageY);
                }
                document.addEventListener('mousemove', onMouseMove);
                clone.onmouseup = function (e) {
                    document.removeEventListener('mousemove', onMouseMove);
                    clone.onmouseup = null;
                    const staffContainer = selectedStaff || document.querySelector('.staff-container');
                    const containerRect = staffContainer.getBoundingClientRect();
                    if (e.clientX >= containerRect.left &&
                        e.clientX <= containerRect.right &&
                        e.clientY >= containerRect.top &&
                        e.clientY <= containerRect.bottom) {
                        document.body.removeChild(clone);
                        const finalClone = clone.cloneNode(true);
                        staffContainer.appendChild(finalClone);
                        const relativeX = e.clientX - containerRect.left - offsetX;
                        const relativeY = e.clientY - containerRect.top - offsetY;
                        finalClone.style.left = relativeX + 'px';
                        finalClone.style.top = relativeY + 'px';
                        makeDraggable(finalClone);
                        // ä¸ºéŸ³ç¬¦æ·»åŠ é¦–å°¾è°ƒæ•´æ‰‹æŸ„
                        const handleContainer = createStemHandle(finalClone);
                        finalClone.appendChild(handleContainer);
                        finalClone.addEventListener('dblclick', () => {
                            finalClone.remove();
                        });
                    } else {
                        clone.remove();
                    }
                    draggedElement = null;
                };
            });
        });
        function makeDraggable(element) {
            let isContextMenuOpen = false;
            const contextMenu = document.createElement('div');
            contextMenu.className = 'absolute bg-white shadow-lg rounded-lg z-50 hidden';
            contextMenu.innerHTML = `
<button class="w-full px-4 py-2 text-left hover:bg-gray-100 !rounded-button">
<i class="fas fa-trash-alt mr-2"></i>åˆ é™¤
</button>
`;
            document.body.appendChild(contextMenu);
            element.addEventListener('contextmenu', function (e) {
                e.preventDefault();
                isContextMenuOpen = true;
                contextMenu.style.display = 'block';
                contextMenu.style.left = e.pageX + 'px';
                contextMenu.style.top = e.pageY + 'px';
            });
            document.addEventListener('click', function () {
                if (isContextMenuOpen) {
                    contextMenu.style.display = 'none';
                    isContextMenuOpen = false;
                }
            });
            contextMenu.querySelector('button').addEventListener('click', function () {
                element.remove();
                contextMenu.style.display = 'none';
                isContextMenuOpen = false;
            });
            element.addEventListener('mousedown', function (e) {
                if (e.button !== 0) return;
                e.preventDefault();
                const staffContainer = element.closest('.staff-container');
                const containerRect = staffContainer.getBoundingClientRect();
                const elementRect = element.getBoundingClientRect();
                let shiftX = e.clientX - elementRect.left;
                let shiftY = e.clientY - elementRect.top;
                element.style.position = 'absolute';
                element.style.zIndex = 1000;
                moveElement(e);
                function moveElement(e) {
                    let newX = e.clientX - shiftX - containerRect.left;
                    let newY = e.clientY - shiftY - containerRect.top;
                    const maxX = containerRect.width - elementRect.width;
                    const maxY = containerRect.height - elementRect.height;
                    newX = Math.max(0, Math.min(maxX, newX));
                    newY = Math.max(0, Math.min(maxY, newY));
                    element.style.left = newX + 'px';
                    element.style.top = newY + 'px';
                }
                function onMouseMove(e) {
                    moveElement(e);
                }
                function onMouseUp() {
                    document.removeEventListener('mousemove', onMouseMove);
                    document.removeEventListener('mouseup', onMouseUp);
                    element.style.zIndex = 1;
                }
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
            });
            element.ondragstart = function () {
                return false;
            };
            element.addEventListener('dblclick', function () {
                element.remove();
            });
        }
        function moveAt(pageX, pageY) {
            if (!draggedElement) return;
            draggedElement.style.left = pageX - offsetX + 'px';
            draggedElement.style.top = pageY - offsetY + 'px';
        }
    </script>
</body>

</html>