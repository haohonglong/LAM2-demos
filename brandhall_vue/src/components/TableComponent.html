<#Block:begin id="components.TableComponent">
<div>
  <el-table
        :data="data.filter(data => !search || data.name.toLowerCase().includes(search.toLowerCase()))"
        style="width: 100%"
        height="450">
        <el-table-column
        fixed
        prop="id"
        label="id"
        width="150">
        </el-table-column>
        <el-table-column
        prop="name"
        label="名称"
        width="120">
        </el-table-column>
        <el-table-column>
            <template slot="header" slot-scope="scope">
                <el-input
                v-model="search"
                size="mini"
                placeholder="搜索名称"/>
            </template>
        </el-table-column>
        
        <el-table-column
        fixed="right"
        label="操作"
        align="center"
        width="120">
        
        <template slot-scope="scope">
            <el-button
            @click.native.prevent="action(2, scope.row)"
            type="primary" icon="el-icon-edit" circle></el-button>

            <el-button
            @click.native.prevent="action(3, scope.row)"
            type="danger" icon="el-icon-delete" circle></el-button>
        </template>
        </el-table-column>
    </el-table>
</div>
<#Block:end>


<script type="text/javascript">
	LAM.run([jQuery],function($) {
        'use strict';
        var System = this;
        
        var Component = {
              name: "TableComponent",
              props: {
                "data": {
                  type: Array,
                  require: true
                },
                "action": {
                  type: Function,
                  require: true
                },
              },
              components: {},
              data() {
                return {
                  search: ''
                }
              },
              methods: {},
              template: `<#=block id="components.TableComponent" />`
        };

        System.export('components.TableComponent', Component);
        
    });
</script>